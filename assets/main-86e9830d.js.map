{"version":3,"file":"main-86e9830d.js","sources":["../../src/api.js","../../src/services/eventService.js","../../src/js/renderPagination.js","../../src/js/filters.js","../../src/utils/domUtils.js","../../src/js/renderEvents.js","../../src/services/participantService.js","../../src/js/renderParticipants.js","../../src/utils/ageValidator.js","../../src/js/registerParticipant.js"],"sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'https://event-on-backend.onrender.com',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","import api from '../api';\n\nexport const fetchEvents = async (page = 1, limit = 8) => {\n  try {\n    const response = await api.get(`/events?page=${page}&limit=${limit}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching events:', error);\n    throw error;\n  }\n};\n","export const renderPagination = (currentPage, totalPages, onPageChange) => {\n  const paginationContainer = document.querySelector('.pagination');\n  let paginationHTML = '';\n\n  paginationHTML += `<button class=\"pagination-btn\" ${\n    currentPage === 1 ? 'disabled' : ''\n  } data-page=\"1\">&laquo;</button>`;\n  paginationHTML += `<button class=\"pagination-btn\" ${\n    currentPage === 1 ? 'disabled' : ''\n  } data-page=\"${currentPage - 1}\">&lt;</button>`;\n\n  if (totalPages <= 5) {\n    for (let i = 1; i <= totalPages; i++) {\n      paginationHTML += `<button class=\"pagination-btn ${\n        i === currentPage ? 'active' : ''\n      }\" data-page=\"${i}\">${i}</button>`;\n    }\n  } else {\n    if (currentPage <= 2) {\n      for (let i = 1; i <= 3; i++) {\n        paginationHTML += `<button class=\"pagination-btn ${\n          i === currentPage ? 'active' : ''\n        }\" data-page=\"${i}\">${i}</button>`;\n      }\n      paginationHTML += `<span class=\"pagination-dots\">...</span>`;\n      paginationHTML += `<button class=\"pagination-btn\" data-page=\"${totalPages}\">${totalPages}</button>`;\n    } else if (currentPage > totalPages - 2) {\n      paginationHTML += `<button class=\"pagination-btn\" data-page=\"1\">1</button>`;\n      paginationHTML += `<span class=\"pagination-dots\">...</span>`;\n      for (let i = totalPages - 2; i <= totalPages; i++) {\n        paginationHTML += `<button class=\"pagination-btn ${\n          i === currentPage ? 'active' : ''\n        }\" data-page=\"${i}\">${i}</button>`;\n      }\n    } else {\n      paginationHTML += `<button class=\"pagination-btn\" data-page=\"1\">1</button>`;\n      paginationHTML += `<span class=\"pagination-dots\">...</span>`;\n      for (let i = currentPage - 1; i <= currentPage + 1; i++) {\n        paginationHTML += `<button class=\"pagination-btn ${\n          i === currentPage ? 'active' : ''\n        }\" data-page=\"${i}\">${i}</button>`;\n      }\n      paginationHTML += `<span class=\"pagination-dots\">...</span>`;\n      paginationHTML += `<button class=\"pagination-btn\" data-page=\"${totalPages}\">${totalPages}</button>`;\n    }\n  }\n\n  paginationHTML += `<button class=\"pagination-btn\" ${\n    currentPage === totalPages ? 'disabled' : ''\n  } data-page=\"${currentPage + 1}\">&gt;</button>`;\n  paginationHTML += `<button class=\"pagination-btn\" ${\n    currentPage === totalPages ? 'disabled' : ''\n  } data-page=\"${totalPages}\">&raquo;</button>`;\n\n  paginationContainer.innerHTML = paginationHTML;\n\n  const paginationButtons = document.querySelectorAll('.pagination-btn');\n  paginationButtons.forEach(button => {\n    button.addEventListener('click', e => {\n      const newPage = Number(e.target.getAttribute('data-page'));\n      if (newPage !== currentPage) {\n        sessionStorage.setItem('currentPage', newPage);\n        onPageChange(newPage);\n      }\n    });\n  });\n};\n","export const filterEvents = (events, criteria = {}) => {\n  return events.filter(event => {\n    const matchesTitle = criteria.title\n      ? event.title.toLowerCase().includes(criteria.title.toLowerCase())\n      : true;\n    const matchesOrganizer = criteria.organizer\n      ? event.organizer.toLowerCase().includes(criteria.organizer.toLowerCase())\n      : true;\n\n    let matchesDate = true;\n    if (criteria.date) {\n      const eventDate = new Date(event.eventDate).toISOString().split('T')[0];\n      matchesDate = eventDate === criteria.date;\n    }\n\n    return matchesTitle && matchesOrganizer && matchesDate;\n  });\n};\n\nexport const filterParticipants = (participants, searchTerms) => {\n  const { fullName, email } = searchTerms;\n  return participants.filter(participant => {\n    const matchesFullName = fullName\n      ? participant.fullName.toLowerCase().includes(fullName.toLowerCase())\n      : true;\n    const matchesEmail = email\n      ? participant.email.toLowerCase().includes(email.toLowerCase())\n      : true;\n    return matchesFullName && matchesEmail;\n  });\n};\n","export const getFilterElements = () => {\n  return {\n    titleInput: document.querySelector('#titleFilter'),\n    organizerInput: document.querySelector('#organizerFilter'),\n    dateInput: document.querySelector('#dateFilter'),\n    fullNameInput: document.getElementById('fullNameFilter'),\n    emailInput: document.getElementById('emailFilter'),\n  };\n};\n\nexport const renderEventsContainer = (eventsContainer, eventsHTML) => {\n  eventsContainer.innerHTML = eventsHTML;\n};\n\nexport const renderParticipantsList = (participantsList, html) => {\n  participantsList.innerHTML = html;\n};\n\nexport const displayMessage = (container, message) => {\n  container.innerHTML = message;\n};\n\nexport const clearContainer = container => {\n  container.innerHTML = '';\n};\n\nexport const setElementText = (element, text) => {\n  if (element) {\n    element.textContent = text;\n  }\n};\n\nexport const createBackToEventsLink = participantsList => {\n  participantsList.innerHTML += `<a class=\"back-to-link list-link\" href=\"index.html\">back to events</a>`;\n};\n","import { fetchEvents } from '../services/eventService';\nimport { renderPagination } from './renderPagination';\nimport { filterEvents } from './filters';\nimport { getFilterElements, renderEventsContainer, displayMessage } from '../utils/domUtils';\n\nlet currentPage = 1;\nlet totalPages = 1;\nlet filtersInitialized = false;\n\nconst applyFilters = (filterCriteria = {}, page = 1) => {\n  renderEvents(page, filterCriteria);\n};\n\nconst setupFilters = () => {\n  const { titleInput, organizerInput, dateInput } = getFilterElements();\n\n  if (titleInput && organizerInput && dateInput && !filtersInitialized) {\n    const handleFilterChange = () => {\n      const criteria = {\n        title: titleInput.value,\n        organizer: organizerInput.value,\n        date: dateInput.value,\n      };\n      applyFilters(criteria, currentPage);\n    };\n\n    titleInput.addEventListener('input', handleFilterChange);\n    organizerInput.addEventListener('input', handleFilterChange);\n    dateInput.addEventListener('input', handleFilterChange);\n\n    filtersInitialized = true;\n  } else {\n    console.error('Filter input elements not found.');\n  }\n};\n\nexport const renderEvents = async (page = 1, filterCriteria = {}) => {\n  const eventsContainer = document.querySelector('.events');\n\n  if (!eventsContainer) {\n    console.error('Events container not found.');\n    return;\n  }\n\n  const savedPage = sessionStorage.getItem('currentPage');\n  const currentPageToUse = savedPage ? Number(savedPage) : page;\n\n  try {\n    const { events, totalPages: total } = await fetchEvents(currentPageToUse);\n    totalPages = total;\n\n    const filteredEvents = filterEvents(events, filterCriteria);\n\n    if (filteredEvents.length === 0) {\n      displayMessage(eventsContainer, '<p>No events available.</p>');\n      return;\n    }\n\n    const eventsHTML = filteredEvents\n      .map(\n        event => `\n      <li class=\"event-item\">\n        <div class=\"event-content\">\n          <div>\n            <h3>${event.title}</h3>\n            <p class=\"event-description\">${event.description}</p>\n          </div>\n          <div>\n            <p>Organizer: ${event.organizer}</p>\n            <p>Date of the event: ${new Date(event.eventDate).toLocaleDateString()}</p>\n          </div>\n        </div>\n        <div class=\"event-link-container\">\n          <a class=\"link-register\" href=\"registration-page.html?eventId=${\n            event._id\n          }\">Register</a>\n          <a class=\"link-view\" href=\"participants-page.html?eventId=${\n            event._id\n          }&title=${encodeURIComponent(event.title)}\">View</a>\n        </div>\n      </li>\n    `\n      )\n      .join('');\n\n    renderEventsContainer(eventsContainer, eventsHTML);\n\n    renderPagination(currentPageToUse, totalPages, newPage => {\n      currentPage = newPage;\n      sessionStorage.setItem('currentPage', newPage);\n      renderEvents(currentPage, filterCriteria);\n    });\n  } catch (error) {\n    displayMessage(eventsContainer, '<p>Error loading events. Please try again later.</p>');\n    console.error('Error fetching events:', error);\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const checkEventsContainer = setInterval(() => {\n    const eventsContainer = document.querySelector('.events');\n    if (eventsContainer) {\n      clearInterval(checkEventsContainer);\n      renderEvents();\n      setupFilters();\n    }\n  }, 100);\n});\n","import api from '../api';\n\nexport const fetchParticipants = async eventId => {\n  try {\n    const response = await api.get(`/participants/${eventId}`);\n    return response.data || null;\n  } catch (error) {\n    if (error.response && error.response.status === 404) {\n      return [];\n    }\n    throw error;\n  }\n};\n\nexport const registerParticipant = async participantData => {\n  try {\n    const response = await api.post('/participants/register', participantData);\n    return response.data;\n  } catch (error) {\n    console.error('Error registering participant:', error);\n    throw error;\n  }\n};\n","import { fetchParticipants } from '../services/participantService';\nimport { filterParticipants } from './filters';\nimport {\n  renderParticipantsList,\n  displayMessage,\n  createBackToEventsLink,\n  setElementText,\n  clearContainer,\n} from '../utils/domUtils';\n\nconst getURLParam = paramName => {\n  const params = new URLSearchParams(window.location.search);\n  return params.get(paramName);\n};\n\nconst isProduction = window.location.hostname.includes('github.io');\nconst basePath = isProduction ? '/Event_On_frontend/assets/' : './img/';\n\nconst getIconPath = iconName => {\n  const hash = isProduction ? '-24fcadf5' : '';\n  return `${basePath}icon${hash}.svg#${iconName}`;\n};\n\nconst generateParticipantsHTML = participants => {\n  return participants\n    .map(\n      participant => `\n    <li class=\"participant-item\">\n      <svg class=\"participant-icon\" width=\"44\" height=\"44\">\n        <use href=\"${getIconPath('icon-user')}\"></use>\n      </svg>\n      <div>\n        <h3>${participant.fullName}</h3>\n        <p>Email: ${participant.email}</p>\n      </div>\n    </li>\n  `\n    )\n    .join('');\n};\n\nconst renderParticipants = async (searchTerm = {}) => {\n  const participantsContainer = document.querySelector('.participants-list-container');\n  const participantsList = document.querySelector('.participants-list');\n  const eventTitleElement = document.querySelector('.event-title');\n\n  if (!participantsContainer || !participantsList) {\n    console.error('Participants container or list not found.');\n    return;\n  }\n\n  const eventId = getURLParam('eventId');\n  const eventTitle = getURLParam('title');\n\n  clearContainer(participantsList);\n\n  setElementText(eventTitleElement, eventTitle || 'Event Participants');\n\n  if (!eventId) {\n    displayMessage(participantsList, '<p>Event ID not provided.</p>');\n    return;\n  }\n\n  try {\n    const participants = await fetchParticipants(eventId);\n    const filteredParticipants = filterParticipants(participants, searchTerm);\n\n    if (filteredParticipants.length === 0) {\n      displayMessage(participantsList, '<p class=\"message\">There are no participants.</p>');\n    } else {\n      const participantsHTML = generateParticipantsHTML(filteredParticipants);\n      renderParticipantsList(participantsList, participantsHTML);\n    }\n\n    createBackToEventsLink(participantsList);\n  } catch (error) {\n    displayMessage(participantsList, '<p>Error loading participants. Please try again later.</p>');\n    console.error('Error fetching participants:', error);\n  }\n};\n\nconst setupFilters = () => {\n  const { fullNameInput, emailInput } = getFilterElements();\n\n  if (!fullNameInput || !emailInput) {\n    console.error('Filter input elements not found.');\n    return;\n  }\n\n  const handleFilterChange = () => {\n    const searchTerm = {\n      fullName: fullNameInput.value,\n      email: emailInput.value,\n    };\n    renderParticipants(searchTerm);\n  };\n\n  fullNameInput.addEventListener('input', handleFilterChange);\n  emailInput.addEventListener('input', handleFilterChange);\n};\n\nconst initializeParticipantsPage = () => {\n  const participantsContainer = document.querySelector('.participants-list-container');\n  if (participantsContainer) {\n    renderParticipants();\n    setupFilters();\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const checkParticipantsContainer = setInterval(() => {\n    const participantsContainer = document.querySelector('.participants-list-container');\n    if (participantsContainer) {\n      clearInterval(checkParticipantsContainer);\n      initializeParticipantsPage();\n    }\n  }, 100);\n});\n","export const calculateAge = birthday => {\n  const birthDate = new Date(birthday);\n  const today = new Date();\n  let age = today.getFullYear() - birthDate.getFullYear();\n  const monthDiff = today.getMonth() - birthDate.getMonth();\n\n  if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\n    age--;\n  }\n\n  return age;\n};\n","import { registerParticipant } from '../services/participantService';\nimport { calculateAge } from '../utils/ageValidator';\n\nconst getEventIdFromURL = () => {\n  const params = new URLSearchParams(window.location.search);\n  return params.get('eventId');\n};\n\nconst handleRegistrationFormSubmit = async event => {\n  event.preventDefault();\n\n  const eventId = getEventIdFromURL();\n\n  if (!eventId) {\n    alert('Event ID is missing!');\n    return;\n  }\n\n  const formData = new FormData(event.target);\n  const birthday = formData.get('birthday');\n\n  const age = calculateAge(birthday);\n\n  if (age < 18) {\n    alert('Participants must be at least 18 years old.');\n    return;\n  }\n\n  if (age > 100) {\n    alert('Participants must be younger than 100 years old.');\n    return;\n  }\n\n  const participantData = {\n    fullName: formData.get('fullName'),\n    email: formData.get('email'),\n    birthday,\n    source: formData.get('source'),\n    eventId,\n  };\n\n  try {\n    const response = await registerParticipant(participantData);\n    console.log('Participant registered successfully:', response);\n    alert('The participant has been successfully registered!');\n    event.target.reset();\n  } catch (error) {\n    console.error('Error registering participant:', error);\n    alert('Error while registering participant. Please try again.');\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const registrationForm = document.querySelector('#registrationForm');\n  if (registrationForm) {\n    registrationForm.addEventListener('submit', handleRegistrationFormSubmit);\n  }\n});\n"],"names":["api","axios","fetchEvents","page","limit","error","renderPagination","currentPage","totalPages","onPageChange","paginationContainer","paginationHTML","i","button","e","newPage","filterEvents","events","criteria","event","matchesTitle","matchesOrganizer","matchesDate","filterParticipants","participants","searchTerms","fullName","email","participant","matchesFullName","matchesEmail","getFilterElements","renderEventsContainer","eventsContainer","eventsHTML","renderParticipantsList","participantsList","html","displayMessage","container","message","clearContainer","setElementText","element","text","createBackToEventsLink","filtersInitialized","applyFilters","filterCriteria","renderEvents","setupFilters","titleInput","organizerInput","dateInput","handleFilterChange","savedPage","currentPageToUse","total","filteredEvents","checkEventsContainer","fetchParticipants","eventId","registerParticipant","participantData","getURLParam","paramName","isProduction","basePath","getIconPath","iconName","generateParticipantsHTML","renderParticipants","searchTerm","participantsContainer","eventTitleElement","eventTitle","filteredParticipants","participantsHTML","fullNameInput","emailInput","initializeParticipantsPage","checkParticipantsContainer","calculateAge","birthday","birthDate","today","age","monthDiff","getEventIdFromURL","handleRegistrationFormSubmit","formData","response","registrationForm"],"mappings":"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"}